{"ast":null,"code":"import _slicedToArray from \"/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/dashboard/src/widgets/ExchangeGraph.js\";\nimport axios from 'axios';\nimport Card from \"@material-ui/core/Card\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button, Form, FormGroup, Input } from \"reactstrap\";\nimport { forEach } from \"react-bootstrap/cjs/utils/ElementChildren\";\nconst useStyles = makeStyles(theme => ({\n  exchangeHeader: {\n    backgroundColor: \"#A0A0A0\",\n    color: \"#FFFFFF\"\n  },\n  exchangeConfig: {\n    align: \"right\"\n  }\n}));\n\nconst getExchangeDataStartEnd = async (base = \"EUR\", symbols = \"\", start = \"2019-01-01\", end = \"2019-02-01\") => {\n  try {\n    const response = await axios({\n      method: 'GET',\n      url: 'https://api.exchangeratesapi.io/history?base=' + base + '&start_at=' + start + '&end_at=' + end + '&symbols=' + symbols\n    });\n    return response.data;\n  } catch (e) {\n    console.log(\"error: \", e);\n  }\n};\n\nconst ExchangeGraphCard = () => {\n  const classes = useStyles();\n\n  const _useState = useState(undefined),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(\"EUR\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Base = _useState4[0],\n        setBase = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        BaseValue = _useState6[0],\n        setBaseValue = _useState6[1];\n\n  const _useState7 = useState(\"USD\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        Currency = _useState8[0],\n        setCurrency = _useState8[1];\n\n  const _useState9 = useState(0),\n        _useState10 = _slicedToArray(_useState9, 2),\n        CurrencyValue = _useState10[0],\n        setCurrencyValue = _useState10[1];\n\n  const _useState11 = useState(\"EUR\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        modalBase = _useState12[0],\n        setModalBase = _useState12[1];\n\n  const _useState13 = useState(\"USD\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        modalExchange = _useState14[0],\n        setModalExchange = _useState14[1];\n\n  var years = new Date().getFullYear();\n  var month = new Date().getMonth() + 1;\n  var day = new Date().getDate();\n  const start_at = years + \"-\" + (\"0\" + (month - 1)).slice(-2) + \"-\" + (\"0\" + day).slice(-2);\n  const end_at = years + \"-\" + (\"0\" + month).slice(-2) + \"-\" + (\"0\" + day).slice(-2);\n  useEffect(() => {\n    async function fetchData() {\n      let res = await getExchangeDataStartEnd();\n      setData(res);\n    }\n\n    fetchData();\n  }, []);\n\n  const content = data => {\n    if (data === undefined) {\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          marginLeft: \"15px\",\n          marginRight: \"15px\",\n          marginTop: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Loading\"));\n    } else {\n      let base = data.base;\n      let rates = data.rates;\n      console.log(JSON.stringify(rates)); // var list = rates.map(function(name, index){\n      //     return <li key={index}>{index} : {name}</li>\n      // });\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Base :\", base), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Start at : \", start_at), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"End at : \", end_at));\n    }\n  };\n\n  const _useState15 = useState(true),\n        _useState16 = _slicedToArray(_useState15, 2),\n        modal = _useState16[0],\n        setModal = _useState16[1];\n\n  const toggle = () => setModal(!modal);\n\n  return React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Modal, {\n    show: modal,\n    onHide: toggle,\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Params\")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Base currency\"), React.createElement(Input, {\n    type: \"select\",\n    onChange: e => setModalBase(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    selected: Base === \"EUR\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"EUR\"), React.createElement(\"option\", {\n    selected: Base === \"USD\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"USD\"), React.createElement(\"option\", {\n    selected: Base === \"JPY\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"JPY\"))))), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Exchange currency\"), React.createElement(Input, {\n    type: \"select\",\n    onChange: e => setModalExchange(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    selected: Currency === \"EUR\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"EUR\"), React.createElement(\"option\", {\n    selected: Currency === \"USD\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"USD\"), React.createElement(\"option\", {\n    selected: Currency === \"JPY\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"JPY\"))))), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: classes.save,\n    onClick: () => {\n      setBase(modalBase);\n      setCurrency(modalExchange);\n      toggle();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Save\"))), React.createElement(Toolbar, {\n    position: \"static\",\n    className: classes.exchangeHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(DashboardIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      marginTop: \"10px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    style: {\n      textAlign: \"center\"\n    },\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Exchange\"))), React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    onClick: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(SettingsIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(DeleteIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }))))), React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, content(data)));\n};\n\nexport default ExchangeGraphCard;","map":{"version":3,"sources":["/dashboard/src/widgets/ExchangeGraph.js"],"names":["axios","Card","Toolbar","IconButton","DashboardIcon","SettingsIcon","DeleteIcon","Typography","CardContent","React","useEffect","useState","Modal","makeStyles","Grid","Button","Form","FormGroup","Input","forEach","useStyles","theme","exchangeHeader","backgroundColor","color","exchangeConfig","align","getExchangeDataStartEnd","base","symbols","start","end","response","method","url","data","e","console","log","ExchangeGraphCard","classes","undefined","setData","Base","setBase","BaseValue","setBaseValue","Currency","setCurrency","CurrencyValue","setCurrencyValue","modalBase","setModalBase","modalExchange","setModalExchange","years","Date","getFullYear","month","getMonth","day","getDate","start_at","slice","end_at","fetchData","res","content","textAlign","marginLeft","marginRight","marginTop","rates","JSON","stringify","modal","setModal","toggle","target","value","save"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport Card from \"@material-ui/core/Card\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport React, {useEffect, useState} from \"react\";\nimport {Modal} from \"react-bootstrap\";\nimport {makeStyles} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Button, Form, FormGroup, Input} from \"reactstrap\";\nimport {forEach} from \"react-bootstrap/cjs/utils/ElementChildren\";\n\nconst useStyles = makeStyles(theme => ({\n    exchangeHeader: {\n        backgroundColor: \"#A0A0A0\",\n        color: \"#FFFFFF\"\n    },\n    exchangeConfig: {\n        align: \"right\",\n    },\n}));\n\nconst getExchangeDataStartEnd = async (base=\"EUR\", symbols=\"\", start=\"2019-01-01\", end=\"2019-02-01\") => {\n    try {\n        const response = await axios({\n            method: 'GET',\n            url: 'https://api.exchangeratesapi.io/history?base=' + base + '&start_at=' + start + '&end_at=' + end + '&symbols=' + symbols,\n        });\n        return response.data;\n    } catch (e) {\n        console.log(\"error: \", e);\n    }\n};\n\nconst ExchangeGraphCard = () => {\n    const classes = useStyles();\n    const [data, setData] = useState(undefined);\n    const [Base, setBase] = useState(\"EUR\");\n    const [BaseValue, setBaseValue] = useState(0);\n    const [Currency, setCurrency] = useState(\"USD\");\n    const [CurrencyValue, setCurrencyValue] = useState(0);\n    const [modalBase, setModalBase] = useState(\"EUR\");\n    const [modalExchange, setModalExchange] = useState(\"USD\");\n\n\n\n    var years = new Date().getFullYear();\n    var month = new Date().getMonth() + 1;\n    var day = new Date().getDate();\n\n\n    const start_at = years + \"-\" + (\"0\" + (month - 1)).slice(-2) + \"-\" + (\"0\" + (day)).slice(-2);\n    const end_at = years + \"-\" + (\"0\" + month).slice(-2) + \"-\" + (\"0\" + day).slice(-2);\n\n    useEffect(\n        () => { async function fetchData() {\n            let res = await getExchangeDataStartEnd();\n            setData(res);\n        }\n            fetchData();\n        }, []);\n\n    const content = (data) => {\n        if (data === undefined) {\n            return (\n                <div style={{textAlign: \"center\", marginLeft: \"15px\", marginRight: \"15px\", marginTop: \"15px\"}}>\n                    <h4>Loading</h4>\n                </div>\n            );\n        } else {\n            let base = data.base;\n            let rates = data.rates;\n            console.log(JSON.stringify(rates));\n            // var list = rates.map(function(name, index){\n            //     return <li key={index}>{index} : {name}</li>\n            // });\n\n            return (\n                <div>\n                    <p>Base :{base}</p>\n                    <p>Start at : {start_at}</p>\n                    <p>End at : {end_at}</p>\n                    {/*<ul>{list}</ul>*/}\n                </div>\n            );\n        }\n    };\n\n    const [modal, setModal] = useState(true);\n\n    const toggle = () => setModal(!modal);\n\n    return (\n        <Card>\n\n\n            <Modal show={modal} onHide={toggle} centered>\n                <Modal.Header closeButton>\n                    <Modal.Title>Params</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form>\n                        <FormGroup>\n                            <label>Base currency</label>\n                            <Input type=\"select\" onChange={e => setModalBase(e.target.value)}>\n                                <option selected={Base === \"EUR\"}>EUR</option>\n                                <option selected={Base === \"USD\"}>USD</option>\n                                <option selected={Base === \"JPY\"}>JPY</option>\n                            </Input>\n                        </FormGroup>\n                    </Form>\n                </Modal.Body>\n                <Modal.Body>\n                    <Form>\n                        <FormGroup>\n                            <label>Exchange currency</label>\n                            <Input type=\"select\" onChange={e => setModalExchange(e.target.value)}>\n                                <option selected={Currency === \"EUR\"}>EUR</option>\n                                <option selected={Currency === \"USD\"}>USD</option>\n                                <option selected={Currency === \"JPY\"}>JPY</option>\n                            </Input>\n                        </FormGroup>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button className={classes.save} onClick={() => {setBase(modalBase); setCurrency(modalExchange); toggle()}}>Save</Button>\n                </Modal.Footer>\n            </Modal>\n\n\n            <Toolbar position=\"static\" className={classes.exchangeHeader}>\n                <Grid container spacing={1}>\n                    <Grid item xs={2}>\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n                            <DashboardIcon/>\n                        </IconButton>\n                    </Grid>\n                    <Grid item xs={8}>\n                        <div style={{marginTop: \"10px\"}}>\n                            <Typography style={{textAlign: \"center\"}} variant=\"h5\">\n                                Exchange\n                            </Typography>\n                        </div>\n                    </Grid>\n                    <Grid item xs={1}>\n                        <IconButton color=\"inherit\" aria-label=\"menu\"  onClick={toggle}>\n                            <SettingsIcon/>\n                        </IconButton>\n                    </Grid>\n                    <Grid item xs={1}>\n                        <IconButton color=\"inherit\" aria-label=\"menu\">\n                            <DeleteIcon/>\n                        </IconButton>\n                    </Grid>\n                </Grid>\n            </Toolbar>\n            <CardContent>\n                {content(data)}\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ExchangeGraphCard;\n"]},"metadata":{},"sourceType":"module"}